<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Ö–ù–∞–¥–∑–æ—Ä - AI Construction Supervisor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.2em;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card .icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .stat-card h3 {
            color: #333;
            font-size: 2em;
            margin-bottom: 5px;
        }

        .stat-card p {
            color: #999;
            font-size: 1em;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .feature-card h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .feature-card ul {
            list-style: none;
            padding: 0;
        }

        .feature-card li {
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
            color: #666;
        }

        .feature-card li:last-child {
            border-bottom: none;
        }

        .feature-card li:before {
            content: "‚úì ";
            color: #667eea;
            font-weight: bold;
            margin-right: 10px;
        }

        .ai-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .ai-section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .chat-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            min-height: 300px;
            max-height: 500px;
            overflow-y: auto;
        }

        .message {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            max-width: 80%;
        }

        .message.user {
            background: #667eea;
            color: white;
            margin-left: auto;
        }

        .message.ai {
            background: white;
            color: #333;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .input-group {
            display: flex;
            gap: 10px;
        }

        .input-group input {
            flex: 1;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background: #5568d3;
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .demo-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .demo-btn {
            padding: 15px;
            background: #f0f0f0;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .demo-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .project-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .project-card:hover {
            transform: translateY(-5px);
        }

        .project-card .status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .status.planning { background: #e3f2fd; color: #1976d2; }
        .status.in-progress { background: #fff3e0; color: #f57c00; }
        .status.completed { background: #e8f5e9; color: #388e3c; }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üèóÔ∏è –¢–µ—Ö–ù–∞–¥–∑–æ—Ä</h1>
            <p>–¶–∏—Ñ—Ä–æ–≤–æ–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –Ω–∞–¥–∑–æ—Ä —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º</p>
            <p style="margin-top: 10px; color: #667eea; font-weight: bold;">v1.3.0 - Enhanced Production Ready</p>
        </div>

        <!-- Stats -->
        <div class="stats">
            <div class="stat-card">
                <div class="icon">üìä</div>
                <h3 id="projectsCount">5</h3>
                <p>–ü—Ä–æ–µ–∫—Ç–æ–≤</p>
            </div>
            <div class="stat-card">
                <div class="icon">üì∏</div>
                <h3 id="inspectionsCount">12</h3>
                <p>–ü—Ä–æ–≤–µ—Ä–æ–∫</p>
            </div>
            <div class="stat-card">
                <div class="icon">ü§ñ</div>
                <h3 id="defectsCount">8</h3>
                <p>–î–µ—Ñ–µ–∫—Ç–æ–≤ –Ω–∞–π–¥–µ–Ω–æ AI</p>
            </div>
            <div class="stat-card">
                <div class="icon">‚úÖ</div>
                <h3>97%</h3>
                <p>–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å</p>
            </div>
        </div>

        <!-- AI Consultant -->
        <div class="ai-section">
            <h2>ü§ñ AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º –Ω–æ—Ä–º–∞–º</h2>
            <p style="color: #666; margin-bottom: 20px;">–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ –°–ü, –ì–û–°–¢, –°–ù–∏–ü –∏–ª–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º</p>

            <div class="demo-buttons">
                <div class="demo-btn" onclick="askAI('–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –±–µ—Ç–æ–Ω–∞?')">
                    –ö–æ–Ω—Ç—Ä–æ–ª—å –±–µ—Ç–æ–Ω–∞
                </div>
                <div class="demo-btn" onclick="askAI('–ö–∞–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –°–ü –∫ –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞?')">
                    –ì–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏—è
                </div>
                <div class="demo-btn" onclick="askAI('–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–≤–∞—Ä–Ω—ã—Ö —à–≤–æ–≤?')">
                    –°–≤–∞—Ä–Ω—ã–µ —à–≤—ã
                </div>
                <div class="demo-btn" onclick="askAI('–î–æ–ø—É—Å–∫–∏ –ø—Ä–∏ —É–∫–ª–∞–¥–∫–µ –∫–∏—Ä–ø–∏—á–∞ –ø–æ –ì–û–°–¢')">
                    –ö–ª–∞–¥–∫–∞ –∫–∏—Ä–ø–∏—á–∞
                </div>
            </div>

            <div class="chat-container" id="chatContainer">
                <div class="message ai">
                    <strong>AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç:</strong><br>
                    –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø AI –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º –Ω–æ—Ä–º–∞–º –∏ –ø—Ä–∞–≤–∏–ª–∞–º. –ú–æ–≥—É –ø–æ–º–æ—á—å —Å:<br>
                    ‚Ä¢ –ü–æ–∏—Å–∫–æ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –°–ü, –ì–û–°–¢, –°–ù–∏–ü<br>
                    ‚Ä¢ –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–µ–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–æ—Ä–º<br>
                    ‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ –ø–æ –∫–æ–Ω—Ç—Ä–æ–ª—é –∫–∞—á–µ—Å—Ç–≤–∞<br>
                    ‚Ä¢ –í—ã—è–≤–ª–µ–Ω–∏–µ–º –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π<br><br>
                    –ó–∞–¥–∞–π—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å!
                </div>
            </div>

            <div class="input-group">
                <input type="text" id="questionInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..." onkeypress="if(event.key==='Enter') sendQuestion()">
                <button onclick="sendQuestion()" id="sendBtn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>

        <!-- Features -->
        <div class="features">
            <div class="feature-card">
                <h2>üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h2>
                <ul>
                    <li>–§–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏—è —Å GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏</li>
                    <li>AI —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤ (YOLOv8)</li>
                    <li>–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–∫—Ä—ã—Ç—ã—Ö —Ä–∞–±–æ—Ç</li>
                    <li>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–∫—Ç–æ–≤ –∏ –æ—Ç—á–µ—Ç–æ–≤</li>
                    <li>Offline —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</li>
                </ul>
            </div>

            <div class="feature-card">
                <h2>ü§ñ AI –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>
                <ul>
                    <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ 10 —Ç–∏–ø–æ–≤ –¥–µ—Ñ–µ–∫—Ç–æ–≤</li>
                    <li>–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ –°–ü, –ì–û–°–¢, –°–ù–∏–ü</li>
                    <li>–ü–æ–∏—Å–∫ –ø–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º</li>
                    <li>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é</li>
                    <li>–ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</li>
                </ul>
            </div>

            <div class="feature-card">
                <h2>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
                <ul>
                    <li>Dashboard —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏</li>
                    <li>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º</li>
                    <li>–¢—Ä–µ–Ω–¥—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑—ã</li>
                    <li>–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV/JSON/PDF</li>
                    <li>Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (WebSocket)</li>
                </ul>
            </div>
        </div>

        <!-- Projects -->
        <div class="ai-section">
            <h2>üìÅ –ü—Ä–æ–µ–∫—Ç—ã</h2>
            <div class="projects-grid" id="projectsGrid">
                <!-- Projects will be loaded here -->
            </div>
        </div>
    </div>

    <script>
        // API Base URL
        const API_URL = 'http://localhost:8000/api/v1';

        // Load projects
        async function loadProjects() {
            try {
                const response = await fetch(`${API_URL}/projects`);
                const data = await response.json();

                const grid = document.getElementById('projectsGrid');
                grid.innerHTML = '';

                data.forEach(project => {
                    const statusClass = project.status.replace('_', '-');
                    const statusText = {
                        'planning': '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
                        'in_progress': '–í —Ä–∞–±–æ—Ç–µ',
                        'completed': '–ó–∞–≤–µ—Ä—à–µ–Ω',
                        'suspended': '–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω'
                    }[project.status] || project.status;

                    grid.innerHTML += `
                        <div class="project-card">
                            <span class="status ${statusClass}">${statusText}</span>
                            <h3>${project.name}</h3>
                            <p style="color: #666; margin: 10px 0;">${project.address}</p>
                            <p style="font-size: 0.9em; color: #999;">${project.description}</p>
                        </div>
                    `;
                });

                document.getElementById('projectsCount').textContent = data.length;
            } catch (error) {
                console.error('Error loading projects:', error);
            }
        }

        // Ask AI (demo mode with mock responses)
        async function askAI(question) {
            const input = document.getElementById('questionInput');
            input.value = question;
            sendQuestion();
        }

        async function sendQuestion() {
            const input = document.getElementById('questionInput');
            const question = input.value.trim();

            if (!question) return;

            const chatContainer = document.getElementById('chatContainer');
            const sendBtn = document.getElementById('sendBtn');

            // Add user message
            chatContainer.innerHTML += `
                <div class="message user">
                    <strong>–í—ã:</strong><br>${question}
                </div>
            `;

            input.value = '';
            sendBtn.disabled = true;
            sendBtn.innerHTML = '<span class="loading"></span> –î—É–º–∞—é...';

            // Scroll to bottom
            chatContainer.scrollTop = chatContainer.scrollHeight;

            // Simulate AI response
            setTimeout(() => {
                const responses = {
                    '–±–µ—Ç–æ–Ω': '–°–æ–≥–ª–∞—Å–Ω–æ –°–ü 63.13330.2018 "–ë–µ—Ç–æ–Ω–Ω—ã–µ –∏ –∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –±–µ—Ç–æ–Ω–∞ –≤–∫–ª—é—á–∞–µ—Ç:\n\n1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–∂–∞—Ç–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑—Ü–æ–≤\n2. –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç–∏ –±–µ—Ç–æ–Ω–Ω–æ–π —Å–º–µ—Å–∏ (–∫–æ–Ω—É—Å –æ—Å–∞–¥–∫–∏)\n3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ—Å—Ç–∏ –∏ –º–æ—Ä–æ–∑–æ—Å—Ç–æ–π–∫–æ—Å—Ç–∏\n4. –£–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ—á–Ω–æ—Å—Ç–∏\n\n–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Ç–±–æ—Ä –ø—Ä–æ–± –∫–∞–∂–¥—ã–µ 150 –º¬≥ –∏–ª–∏ –ø—Ä–∏ —Å–º–µ–Ω–µ —Å–æ—Å—Ç–∞–≤–∞ —Å–º–µ—Å–∏.',

                    '–≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏—è': '–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –°–ü 29.13330.2011 –∫ –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞:\n\n1. –î–ª—è –∑–æ–Ω —Å –£–ì–í –≤—ã—à–µ –ø–æ–¥–æ—à–≤—ã —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞ - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –æ–∫–ª–µ–µ—á–Ω–∞—è –∏–ª–∏ –æ–±–º–∞–∑–æ—á–Ω–∞—è –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏—è\n2. –ú–∏–Ω–∏–º—É–º 2 —Å–ª–æ—è –±–∏—Ç—É–º–Ω–æ–π –º–∞—Å—Ç–∏–∫–∏\n3. –¢–æ–ª—â–∏–Ω–∞ —Å–ª–æ—è –Ω–µ –º–µ–Ω–µ–µ 2 –º–º –∫–∞–∂–¥—ã–π\n4. –ù–∞—Ö–ª–µ—Å—Ç —Ä—É–ª–æ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ 100-150 –º–º\n5. –ó–∞—â–∏—Ç–∞ –≥–∏–¥—Ä–æ–∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–∏–∂–∏–º–Ω–æ–π —Å—Ç–µ–Ω–∫–æ–π',

                    '—Å–≤–∞—Ä–∫–∞': '–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–≤–∞—Ä–Ω—ã—Ö —à–≤–æ–≤ –ø–æ –ì–û–°–¢ 23055-78:\n\n1. –í–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Å–º–æ—Ç—Ä - 100% —à–≤–æ–≤\n2. –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤\n3. –£–ó–ö (—É–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª—å) - –¥–ª—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π\n4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ—Å—Ç—å\n5. –†–µ–Ω—Ç–≥–µ–Ω–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å - –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞\n\n–î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ 5% –¥–µ—Ñ–µ–∫—Ç–æ–≤ –æ—Ç –æ–±—â–µ–π –¥–ª–∏–Ω—ã —à–≤–∞.',

                    '–∫–∏—Ä–ø–∏—á': '–î–æ–ø—É—Å–∫–∏ –ø—Ä–∏ –∫–ª–∞–¥–∫–µ –∫–∏—Ä–ø–∏—á–∞ –ø–æ –°–ü 15.13330.2020:\n\n1. –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª–∏:\n   - –Ω–∞ 1 —ç—Ç–∞–∂: ¬±10 –º–º\n   - –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É –∑–¥–∞–Ω–∏—è: ¬±30 –º–º\n\n2. –¢–æ–ª—â–∏–Ω–∞ —à–≤–æ–≤:\n   - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö: 12 –º–º (¬±2 –º–º)\n   - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö: 10 –º–º (¬±2 –º–º)\n\n3. –®–∏—Ä–∏–Ω–∞ –ø—Ä–æ—Å—Ç–µ–Ω–∫–æ–≤: ¬±15 –º–º\n4. –û—Ç–º–µ—Ç–∫–∏ –æ–ø–æ—Ä: ¬±10 –º–º'
                };

                let response = '–≠—Ç–æ –¥–µ–º–æ-–≤–µ—Ä—Å–∏—è AI –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞. –í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Å API –∫–ª—é—á–∞–º–∏ (OpenAI –∏–ª–∏ Claude) —è –º–æ–≥—É:\n\n';
                response += '‚Ä¢ –ò—Å–∫–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –±–∞–∑–µ –°–ü, –ì–û–°–¢, –°–ù–∏–ü\n';
                response += '‚Ä¢ –î–∞–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã\n';
                response += '‚Ä¢ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤\n';
                response += '‚Ä¢ –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º\n\n';

                // Check if question matches any keyword
                for (const [key, value] of Object.entries(responses)) {
                    if (question.toLowerCase().includes(key)) {
                        response = value;
                        break;
                    }
                }

                chatContainer.innerHTML += `
                    <div class="message ai">
                        <strong>AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç:</strong><br>${response.replace(/\n/g, '<br>')}
                    </div>
                `;

                chatContainer.scrollTop = chatContainer.scrollHeight;
                sendBtn.disabled = false;
                sendBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å';
            }, 1500);
        }

        // Load stats from API
        async function loadStats() {
            try {
                const response = await fetch(`${API_URL}/statistics/dashboard`);
                const data = await response.json();

                if (data.summary) {
                    document.getElementById('projectsCount').textContent = data.summary.total_projects || 5;
                    document.getElementById('inspectionsCount').textContent = data.summary.total_inspections || 12;
                }
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadProjects();
            loadStats();

            // Demo auto-messages
            setTimeout(() => {
                console.log('–¢–µ—Ö–ù–∞–¥–∑–æ—Ä v1.3.0 –∑–∞–≥—Ä—É–∂–µ–Ω');
                console.log('‚úÖ Backend API: http://localhost:8000');
                console.log('‚úÖ WebSocket: ws://localhost:8000/api/v1/ws');
                console.log('‚úÖ Prometheus: http://localhost:8000/metrics');
            }, 1000);
        });
    </script>
</body>
</html>
